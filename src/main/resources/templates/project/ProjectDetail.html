<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/ProjectDetail.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
  <script src="/js/jquery-3.7.0.min.js"></script>
  <title>Document</title>
</head>
<body>

  <div id="container">
    <div class="titleZone">
      <div class="titleArea">
        <p class="projectTitle">프로젝트이름</p>
      </div>

        <div class="tabMenuArea">
          <div class="tabList">
            <p class="firstTab on">개요</p>
            <p class="secondTab">세부정보</p>
            <p class="thirdTab">멤버</p>
          </div>
        </div>
    </div>

    <div class="contentZone">
      
      <!-- 개요 탭에서 보여질 부분 -->
      <div class="taskInfoArea">
        <div class="taskProgressArea">
          <div class="taskProgress">
            <p>Graph Here</p>
          </div>
        </div>
        <div class="taskCardArea">
          <div class="taskCardContainer">
            <div class="taskCard">
              <div class="taskTitleArea">
                <p class="taskTitle">작업 이름</p>
                <a class="taskOption"><i class="bi bi-three-dots-vertical"></i></a>
                <div class="taskOptionMenu hidden">
                  <p style="border-bottom: 1px solid rgb(230, 235, 241);">작업 수정</p>
                  <p>작업 삭제</p>
                </div>
              </div>
              <div class="taskContentArea">
                <div class="taskDetailArea">
                  <p class="taskDetail">작업 설명 ~~~</p>
                </div>
                <div class="taskStatusDateArea">
                  <p class="taskStatus">대기중</p>
                  <p class="taskDate">작업 기간</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 프로젝트 정보 -->
      <div class="projectInfoArea">
        <div class="projectInfoContainer">
          <div class="contentArea">
            <div class="shortFormArea">
              <ul>
                <li>
                  <p>프로젝트 이름</p><input type="text" name="pjt_nm" class="pjt_nm" readonly/>
                </li>
                <li>
                  <p>서버 종류</p>
                  <input type="text" readonly name="server_type" class="server_type"/>
                </li>
                <li>
                  <div>
                    <p>시작일</p><input type="date" name="pjt_st_dt" readonly/>
                  </div>
                  <div>
                    <p>마감일</p><input type="date" name="pjt_end_dt" readonly/>
                  </div>
                </li>
              </ul>
            </div>
              <div class="detailFormArea">
                <div class="upperDetailFormArea">
                  <div class="detailFormAreaLeft">
                    <p style="margin-bottom: 20px; font-size: 20px;">프로젝트 내용</p>
                  </div>
                  <div class="detailFormAreaRight">
                  </div>
                </div>
                <textarea name="pjt_dtl" class="pjt_dtl" readonly></textarea>
    
              </div>
          </div>
        </div>
      </div>


      <!-- 멤버 정보 -->
      <div class="memberInfoArea">

        <div class="memberInfoAreaContainer">

          <div class="requestUserInfo">
            <p class="requestUser">고객사</p>
            <div class="requestUserList">
              <ul>
                <li>
                  <p>위지언</p>
                  <p>abcde@google.com</p>
                </li>
              </ul>
            </div>
          </div>
          <div class="adminUserInfo">
            <p class="adminUser">관리자</p>
            <div class="adminUserList">
              <ul>
                <li>
                  <p>홍길동</p>
                  <p>abcde@google.com</p>
                  <p>위지언</p>
                  <p>관리자</p>
                </li>
              </ul>
            </div>

          </div>
          <div class="normalUserInfo">
            <p class="normalUser">작업자<i class="bi bi-plus-square memberAdd" data-bs-toggle="modal" data-bs-target="#addMemberModal"></i></p>
            <div class="normalUserList">
              <ul>
                <li>
                  <p>홍길동</p>
                  <p>abcde@google.com</p>
                  <p>위지언</p>
                  <p>작업자</p>
                </li>
              </ul>
            </div>
          </div>

        </div>

      </div>

      <div class="modalArea">
        <div class="modal fade" id="addMemberModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">멤버 추가</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="memberContainer">
                  <div class="upperMemberContainer">
                    <ul class="memberProfileZone">
                    </ul>
                  </div>
                  <div class="lowerMemberContainer">
                    <div class="memberListZone">
                      <ul>
                        <li>
                          <p class="memname">이름</p><p>이메일</p><i class="bi bi-check-square memberAddBtn"></i>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                <button type="button" class="btn btn-primary">업로드</button>
              </div>
            </div>
          </div>
        </div>
      </div>




    </div>
  </div>

  <script>

    window.onload = () => {
      $('.taskInfoArea').toggle(true);
        $('.projectInfoArea').toggle(false);
        $('.memberInfoArea').toggle(false);
    }

    // 탭 전환 기능
    $('.tabList').click((e) => {
      if(e.target.tagName != "P") return;
      $('.tabList').children().removeClass('on');
      e.target.classList.add('on');
      $('.taskInfoArea').toggle();

      if(e.target.innerHTML === "개요") {
        $('.taskInfoArea').toggle(true);
        $('.projectInfoArea').toggle(false);
        $('.memberInfoArea').toggle(false);
      } else if(e.target.innerHTML === '세부정보'){
        $('.taskInfoArea').toggle(false);
        $('.projectInfoArea').toggle(true);
        $('.memberInfoArea').toggle(false);
      } else {
        $('.taskInfoArea').toggle(false);
        $('.projectInfoArea').toggle(false);
        $('.memberInfoArea').toggle(true);
      }
    });


    // 작업 옵션 열기
    $('.taskOption').click(() => {
      $('.taskOption').toggleClass('optionOpen');
      if($('.taskOption').hasClass('optionOpen')){
        $('.taskOptionMenu').removeClass('hidden');
      } else {
        $('.taskOptionMenu').addClass('hidden')
      }
    })

    // 멤버 추가 버튼
    $('.memberAdd').mousedown(() => {
      $('.memberAdd').toggleClass('bi-plus-square');
      $('.memberAdd').toggleClass('bi-plus-square-fill');
    })

    $('.memberAdd').mouseup(() => {
      $('.memberAdd').toggleClass('bi-plus-square');
      $('.memberAdd').toggleClass('bi-plus-square-fill');
    })


    // 모달창 띄우기
    $('.memberAddBtn').click((e) => {
      $('.memberAddBtn').toggleClass('bi-check-square').toggleClass('bi-check-square-fill');
      if ($('.memberAddBtn').hasClass("bi-check-square-fill")) {
        $('.memberProfileZone').append('<div class="memberProfileContainer"><li class="memberProfile"><p>' + e.target.parentElement.firstElementChild.innerHTML + '</p></li></div>');
      }
    });

  </script>


  
</body>
</html>